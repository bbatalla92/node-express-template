{"version":3,"file":"static/webpack/static/development/pages/index.js.aa5f46a41c8faf53a89e.hot-update.js","sources":["webpack:///./components/ContactUs/ContactUs.js"],"sourcesContent":["import React, {Component} from 'react';\nimport \"./ContactUs.scss\";\nimport {validateEmail, validatePhoneNumber} from \"../../Utils\";\nimport {emit} from \"event-subscription\";\nimport {ADD_NOTIFCATION} from \"../../constants\";\n\n\nclass ContactUs extends Component {\n\n    state = {\n        form: {\n            firstName: \"\",\n            lastName: \"\",\n            email: \"\",\n            phoneNumber: \"\",\n            additionalInfo: \"\"\n        },\n        formErrors: {email: \"\"},\n        formValidated: false\n    };\n\n\n    componentDidMount() {\n\n    }\n\n    onFormChange = (event) => {\n        if (!event.target || !event.target.name) {\n            return;\n        }\n        let form = {...this.state.form, [event.target.name]: event.target.value};\n\n        this.setState(state => {\n            return {...state, form: form}\n        }, this.validateForm);\n    };\n\n    validateEmail = () => {\n        let error = \"\";\n        if (!validateEmail(this.state.form.email)) {\n            error = \"This is not a correctly formatted Email.\";\n        }\n        let formErrors = {...this.state.formErrors, email: error};\n        this.setState({formErrors: formErrors})\n\n    };\n\n    submitForm = (event) => {\n        event.preventDefault();\n\n        let body = {\n            ...this.state.form\n        };\n\n        fetch('/api/v1/contact', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(body)\n        })\n            .then(response => {\n                if (!response.ok) {\n                    throw Error(\"error\")\n                }\n\n                emit(ADD_NOTIFCATION, {title: \"Form Submitted!\", type: \"success\"});\n                this.resetForm();\n            })\n            .catch(error => {\n                console.log(\"ERROR\", error);\n                emit(ADD_NOTIFCATION, {title: \"Error submitting your form.\", type: \"error\"});\n            })\n    };\n\n    validateForm = () => {\n        let form = this.state.form;\n        let success = true;\n        let formErrors = this.state.formErrors;\n        for (let key in form) {\n            if (key === \"additionalInfo\") {\n                continue;\n            }\n\n            if (form.hasOwnProperty(key) && !form[key]) {\n                success = false;\n                formErrors[key] = `This field is required.`;\n            } else {\n                delete formErrors[key]\n            }\n\n            if (key === 'email') {\n                this.validateEmail();\n            }\n\n        }\n        console.log(formErrors);\n        this.setState({formValidated: success, formErrors: formErrors});\n    };\n\n    resetForm = () => {\n\n        this.setState({\n            form: {\n                firstName: \"\",\n                lastName: \"\",\n                email: \"\",\n                phoneNumber: \"\",\n                additionalInfo: \"\"\n            }\n        });\n\n        this.validateForm();\n\n    };\n\n\n    render() {\n\n        const {form, formValidated, formErrors} = this.state;\n\n        return (\n            <div id=\"ContactUs\">\n\n                <h1 className=\"text-align-center font-weight-light color-primary\"\n                    ling-translate=\"ContactUsSectionTitle\">Contact Us</h1>\n\n                <form onSubmit={this.submitForm} className=\"form\">\n\n                    <div className=\"inputLabel\">\n                        <label ling-translate=\"ContactUsFirstName\" required={true}>First Name</label>\n                        <div className=\"flex-direction-column\">\n                            <input ling-translate=\"ContactUsLastName\" value={form.firstName} onChange={this.onFormChange}\n                                   name={\"firstName\"}\n                                   placeholder=\"First Name\"\n                                   className=\"input\" type=\"text\"/>\n                            <div>\n                                <span ling-translate=\"ContactUsFormError\"\n                                      className=\"formError\">{formErrors.firstName}</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"inputLabel\">\n                        <label ling-translate=\"ContactUsLastName\" required={true}>Last Name</label>\n                        <div className=\"flex-direction-column\">\n                            <input ling-translate=\"ContactUsLastName\" value={form.lastName} onChange={this.onFormChange}\n                                   name={\"lastName\"}\n                                   placeholder=\"Last Name\"\n                                   className=\"input\" type=\"text\"/>\n                            <div>\n                                <span ling-translate=\"ContactUsFormError\"\n                                      className=\"formError\">{formErrors.lastName}</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"inputLabel\">\n                        <label ling-translate=\"ContactUsEmail\" required={true}>Email</label>\n                        <div className=\"flex-direction-column\">\n                            <input ling-translate=\"ContactUsEmail\" value={form.email} onChange={this.onFormChange}\n                                   name={\"email\"}\n                                   placeholder=\"Email\"\n                                   className=\"input\" type=\"email\"/>\n                            <div>\n                                <span ling-translate=\"ContactUsFormError\"\n                                      className=\"formError\">{formErrors.email}</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"inputLabel\">\n                        <label ling-translate=\"ContactUsPhoneNumber\" required={true}>Phone Number</label>\n                        <div className=\"flex-direction-column\">\n                            <input ling-translate=\"ContactUsPhoneNumber\" value={form.phoneNumber}\n                                   onChange={this.onFormChange} name={\"phoneNumber\"}\n                                   placeholder=\"+1 555 5555\"\n                                   className=\"input\" type=\"tel\"/>\n                            <div>\n                                {!formErrors.phoneNumber &&\n                                <span ling-translate=\"ContactUsPhoneNumberHint\"\n                                      className={\"inputHint\"}>{\"Please include country code as well.\"}</span>}\n                                {formErrors.phoneNumber &&\n                                <span ling-translate=\"ContactUsFormError\"\n                                      className={\"formError\"}>{formErrors.phoneNumber}</span>}\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"inputLabel\">\n                        <label/>\n                        <textarea ling-translate=\"ContactUsAdditionalInfo\" value={form.additionalInfo}\n                                  onChange={this.onFormChange} name={\"additionalInfo\"}\n                                  placeholder=\"(Optional) Any questions or comments you would like us to know ahead of time!\"\n                                  className=\"input\" style={{minHeight: \"170px\", lineHeight: \"22px\"}}/>\n                    </div>\n\n\n                    <button ling-translate=\"SubmitButton\" disabled={!formValidated} id=\"submitButton\" type=\"submit\"\n                            className=\"standard-button\">Submit\n                    </button>\n\n                </form>\n\n            </div>\n        );\n    }\n}\n\nexport default ContactUs;\n"],"mappings":"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","sourceRoot":""}